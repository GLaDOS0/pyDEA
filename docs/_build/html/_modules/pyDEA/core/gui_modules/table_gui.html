

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyDEA.core.gui_modules.table_gui &mdash; pyDEA  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pyDEA  documentation" href="../../../../index.html"/>
        <link rel="up" title="Module code" href="../../../index.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> pyDEA
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../userGuide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pyDEA.html">pyDEA package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">pyDEA</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
      
    <li>pyDEA.core.gui_modules.table_gui</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyDEA.core.gui_modules.table_gui</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39; This module contains classes responsible for displaying input data</span>
<span class="sd">    in a table (TableFrame and TableFrameWithInputOutputBox).</span>
<span class="sd">    It also contains many classes necessary for TableFrameWithInputOutputBox.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        CELL_WIDTH (int): constant that defined width of a cell in a table</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">S</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">E</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">END</span><span class="p">,</span> <span class="n">VERTICAL</span><span class="p">,</span> <span class="n">HORIZONTAL</span><span class="p">,</span> <span class="n">ALL</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">IntVar</span><span class="p">,</span> <span class="n">DISABLED</span><span class="p">,</span> <span class="n">StringVar</span><span class="p">,</span> <span class="n">NORMAL</span>
<span class="kn">from</span> <span class="nn">tkinter.ttk</span> <span class="kn">import</span> <span class="n">Frame</span><span class="p">,</span> <span class="n">Entry</span><span class="p">,</span> <span class="n">Scrollbar</span><span class="p">,</span> <span class="n">Checkbutton</span>

<span class="kn">from</span> <span class="nn">pyDEA.core.gui_modules.scrollable_frame_gui</span> <span class="kn">import</span> <span class="n">MouseWheel</span>
<span class="kn">from</span> <span class="nn">pyDEA.core.utils.dea_utils</span> <span class="kn">import</span> <span class="n">is_valid_coeff</span><span class="p">,</span> <span class="n">NOT_VALID_COEFF</span><span class="p">,</span> <span class="n">VALID_COEFF</span>
<span class="kn">from</span> <span class="nn">pyDEA.core.utils.dea_utils</span> <span class="kn">import</span> <span class="n">WARNING_COEFF</span><span class="p">,</span> <span class="n">EMPTY_COEFF</span><span class="p">,</span> <span class="n">CELL_DESTROY</span>
<span class="kn">from</span> <span class="nn">pyDEA.core.utils.dea_utils</span> <span class="kn">import</span> <span class="n">CHANGE_CATEGORY_NAME</span><span class="p">,</span> <span class="n">INPUT_OBSERVER</span>
<span class="kn">from</span> <span class="nn">pyDEA.core.utils.dea_utils</span> <span class="kn">import</span> <span class="n">OUTPUT_OBSERVER</span><span class="p">,</span> <span class="n">on_canvas_resize</span>
<span class="kn">from</span> <span class="nn">pyDEA.core.utils.dea_utils</span> <span class="kn">import</span> <span class="n">validate_category_name</span><span class="p">,</span> <span class="n">calculate_nb_pages</span>
<span class="kn">from</span> <span class="nn">pyDEA.core.gui_modules.custom_canvas_gui</span> <span class="kn">import</span> <span class="n">StyledCanvas</span>
<span class="kn">from</span> <span class="nn">pyDEA.core.data_processing.read_data_from_xls</span> <span class="kn">import</span> <span class="n">convert_to_dictionary</span>

<span class="n">CELL_WIDTH</span> <span class="o">=</span> <span class="mi">10</span>


<div class="viewcode-block" id="TableFrame"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame">[docs]</a><span class="k">class</span> <span class="nc">TableFrame</span><span class="p">(</span><span class="n">Frame</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; This class is a base class that defines minimal functionality of</span>
<span class="sd">        a table.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            parent (Tk object): parent of this widget.</span>
<span class="sd">            nb_rows (int): number of rows of the table.</span>
<span class="sd">            nb_cols (int): number of columns of the table.</span>
<span class="sd">            cells (list of list of Entry): list with Entry widgets</span>
<span class="sd">                (or derivatives of Entry)</span>
<span class="sd">                that describes the table and its content.</span>
<span class="sd">            canvas (Canvas): canvas that holds all widgets</span>
<span class="sd">                (it is necessary to make the table scrollable).</span>
<span class="sd">            frame_with_table (Frame): frame that holds all widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (Tk object): parent of this widget.</span>
<span class="sd">            nb_rows (int, optional): number of rows of the table,</span>
<span class="sd">                defaults to 20.</span>
<span class="sd">            nb_cols (int, optional): number of columns of the table,</span>
<span class="sd">                defaults to 5.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">nb_rows</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">nb_cols</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">Frame</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span> <span class="o">=</span> <span class="n">nb_rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span> <span class="o">=</span> <span class="n">nb_cols</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cells</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_with_table</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_widgets</span><span class="p">()</span>

<div class="viewcode-block" id="TableFrame.create_widgets"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.create_widgets">[docs]</a>    <span class="k">def</span> <span class="nf">create_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Creates all widgets.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">yScrollbar</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">yScrollbar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="p">)</span>
        <span class="n">xScrollbar</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">xScrollbar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>

        <span class="n">canvas</span> <span class="o">=</span> <span class="n">StyledCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">yscrollcommand</span><span class="o">=</span><span class="n">yScrollbar</span><span class="o">.</span><span class="n">set</span><span class="p">,</span>
                              <span class="n">xscrollcommand</span><span class="o">=</span><span class="n">xScrollbar</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="n">bd</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">canvas</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">W</span><span class="o">+</span><span class="n">E</span><span class="p">)</span>

        <span class="n">frame_with_table</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_with_table</span> <span class="o">=</span> <span class="n">frame_with_table</span>
        <span class="n">frame_with_table</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">W</span><span class="o">+</span><span class="n">E</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span> <span class="o">+</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">cols</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">ent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_entry_widget</span><span class="p">(</span><span class="n">frame_with_table</span><span class="p">)</span>
                <span class="n">ent</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">j</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
                <span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ent</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span>

        <span class="n">canvas</span><span class="o">.</span><span class="n">create_window</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="n">frame_with_table</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;nw&#39;</span><span class="p">)</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>

        <span class="n">yScrollbar</span><span class="p">[</span><span class="s1">&#39;command&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">yview</span>
        <span class="n">xScrollbar</span><span class="p">[</span><span class="s1">&#39;command&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">xview</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_scroll_region</span><span class="p">()</span>

        <span class="n">MouseWheel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">add_scrolling</span><span class="p">(</span><span class="n">canvas</span><span class="p">,</span> <span class="n">yscrollbar</span><span class="o">=</span><span class="n">yScrollbar</span><span class="p">)</span></div>

<div class="viewcode-block" id="TableFrame.create_entry_widget"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.create_entry_widget">[docs]</a>    <span class="k">def</span> <span class="nf">create_entry_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Creates Entry widget.</span>

<span class="sd">            Args:</span>
<span class="sd">                parent (Tk object): parent of the Entry widget.</span>

<span class="sd">            Returns:</span>
<span class="sd">                Entry: created Entry widget.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">Entry</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">CELL_WIDTH</span><span class="p">)</span></div>

<div class="viewcode-block" id="TableFrame.add_row"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.add_row">[docs]</a>    <span class="k">def</span> <span class="nf">add_row</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Adds one row to the end of the table.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span><span class="p">):</span>
            <span class="n">grid_row_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span> <span class="o">+</span> <span class="mi">2</span>
            <span class="n">ent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_entry_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_with_table</span><span class="p">)</span>
            <span class="n">ent</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">grid_row_index</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_scroll_region</span><span class="p">()</span></div>

<div class="viewcode-block" id="TableFrame.add_column"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.add_column">[docs]</a>    <span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Adds one column to the end of the table.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">):</span>
            <span class="n">grid_row_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span>
            <span class="n">ent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_entry_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_with_table</span><span class="p">)</span>
            <span class="n">ent</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">grid_row_index</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                     <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_scroll_region</span><span class="p">()</span></div>

<div class="viewcode-block" id="TableFrame.remove_row"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.remove_row">[docs]</a>    <span class="k">def</span> <span class="nf">remove_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Removes row with a specified index from the table.</span>
<span class="sd">            If row_index is zero or larger than the total number of rows,</span>
<span class="sd">            no row is removed.</span>

<span class="sd">            Args:</span>
<span class="sd">                row_index (int): index of the row to remove.</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool: True if row was deleted, False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># forbid deleting first row</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_remove_row</span><span class="p">(</span><span class="n">row_index</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">before_cell_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">row_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">grid_remove</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_update_scroll_region</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span></div>

<div class="viewcode-block" id="TableFrame.should_remove_row"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.should_remove_row">[docs]</a>    <span class="k">def</span> <span class="nf">should_remove_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Checks if row with a specified row index can be removed.</span>

<span class="sd">            Args:</span>
<span class="sd">                row_index (int): index of the row to remove.</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool: True if row_index is &gt;= 1 and &lt; total number of rows,</span>
<span class="sd">                    False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">row_index</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">row_index</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span></div>

<div class="viewcode-block" id="TableFrame.remove_column"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.remove_column">[docs]</a>    <span class="k">def</span> <span class="nf">remove_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Removes column with a specified index from the table.</span>
<span class="sd">            If column index is zero or larger than the total number of</span>
<span class="sd">            columns of the table, no column is removed.</span>

<span class="sd">            Args:</span>
<span class="sd">                column_index (int): index of the column to remove.</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool: True if column was removed, False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># do not allow to delete first column</span>
        <span class="k">if</span> <span class="n">column_index</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">column_index</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">column_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">grid_remove</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="n">j</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">column_index</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_update_scroll_region</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span></div>

<div class="viewcode-block" id="TableFrame.before_cell_destroy"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.before_cell_destroy">[docs]</a>    <span class="k">def</span> <span class="nf">before_cell_destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cell</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; This method is called before a table cell is destroyed.</span>
<span class="sd">            In this class this method does nothing, but can be redefined</span>
<span class="sd">            in children classes.</span>

<span class="sd">            Args:</span>
<span class="sd">                cell (Entry): cell that will be destroyed after call to</span>
<span class="sd">                    this method.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="TableFrame.clear_all_data"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.clear_all_data">[docs]</a>    <span class="k">def</span> <span class="nf">clear_all_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Clears all data from all cells.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">before_cell_clear</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span></div>

<div class="viewcode-block" id="TableFrame.before_cell_clear"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.before_cell_clear">[docs]</a>    <span class="k">def</span> <span class="nf">before_cell_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cell</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; This method is called before data is cleared from a given cell.</span>
<span class="sd">            In this class this method does nothing, but can be redefined</span>
<span class="sd">            in children classes.</span>

<span class="sd">            Args:</span>
<span class="sd">                cell (Entry): cell that will be cleared after call</span>
<span class="sd">                to this method.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">pass</span></div>

    <span class="k">def</span> <span class="nf">_update_scroll_region</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Updates scroll region. This method must be called each</span>
<span class="sd">            time table size or number of columns or rows change.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># ensures that bbox will calculate border correctly</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_with_table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="n">on_canvas_resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>

<div class="viewcode-block" id="TableFrame.read_coefficients"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.read_coefficients">[docs]</a>    <span class="k">def</span> <span class="nf">read_coefficients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Converts data stored as a list to a proper dictionary</span>
<span class="sd">            necessary for constructing data instance.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">convert_to_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_value</span><span class="p">)</span></div>

<div class="viewcode-block" id="TableFrame.check_value"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrame.check_value">[docs]</a>    <span class="k">def</span> <span class="nf">check_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; This method is called in read_coefficients method to check what</span>
<span class="sd">            values must be returned for data instance construction.</span>
<span class="sd">            In this class it always returns True and can be redefined in</span>
<span class="sd">            children classes.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">True</span></div></div>


<div class="viewcode-block" id="TableFrameWithInputOutputBox"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox">[docs]</a><span class="k">class</span> <span class="nc">TableFrameWithInputOutputBox</span><span class="p">(</span><span class="n">TableFrame</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Extends TableFrame with extra functionality necessary for data</span>
<span class="sd">        modification and choosing input and output categories.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            params_frame (ParamsFrame): frame with parameters, this</span>
<span class="sd">                class communicates</span>
<span class="sd">                with params_frame when data is loaded or modified.</span>
<span class="sd">            combobox_text_var (StringVar): StringVar object that stores</span>
<span class="sd">                categorical category.</span>
<span class="sd">            panel_text_observer (PanelTextObserver): observer that adds star to</span>
<span class="sd">                label frame of the parent of this widget.</span>
<span class="sd">                This class notifies panel_text_observer</span>
<span class="sd">                when data was modified.</span>
<span class="sd">            frames (list of Frame): list of frames that hold Checkbuttons for</span>
<span class="sd">                choosing input and output categories.</span>
<span class="sd">            row_checkboxes (list of Checkbutton): list of Checkbuttons used</span>
<span class="sd">                for removing rows.</span>
<span class="sd">            col_checkboxes (list of Checkbutton): list of Checkbuttons used</span>
<span class="sd">                for removing columns.</span>
<span class="sd">            current_categories (list of str): list of current valid categories.</span>
<span class="sd">                This class might modify this list.</span>
<span class="sd">            str_var_for_input_output_boxes (StringVar): StringVar object that</span>
<span class="sd">                is used for communication</span>
<span class="sd">                with ParamsFrame. If the content of</span>
<span class="sd">                str_var_for_input_output_boxes was modified,</span>
<span class="sd">                it means that data was loaded from parameters file</span>
<span class="sd">                and input and output categories</span>
<span class="sd">                must be checked depending on parameters file.</span>
<span class="sd">            data (list of list of str or float): input data, it might</span>
<span class="sd">                be modified by this class.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (Tk object): parent of this widget.</span>
<span class="sd">            params_frame (ParamsFrame): frame with parameters, this class</span>
<span class="sd">                communicates</span>
<span class="sd">                with params_frame when data is loaded or modified.</span>
<span class="sd">            combobox_text_var (StringVar): StringVar object that stores</span>
<span class="sd">                categorical category.</span>
<span class="sd">            current_categories (list of str): list of current valid categories.</span>
<span class="sd">                This class might modify this list.</span>
<span class="sd">            str_var_for_input_output_boxes (StringVar): StringVar object</span>
<span class="sd">                that is used for communication</span>
<span class="sd">                with ParamsFrame. If the content of</span>
<span class="sd">                str_var_for_input_output_boxes was modified,</span>
<span class="sd">                it means that data was loaded from parameters file and input</span>
<span class="sd">                and output categories</span>
<span class="sd">                must be checked depending on parameters file.</span>
<span class="sd">            if_text_modified_str (StringVar): StringVar object that is used</span>
<span class="sd">                by PanelTextObserver, its content is modified when data</span>
<span class="sd">                was modified.</span>
<span class="sd">            data (list of list of str or float): input data, it might be</span>
<span class="sd">                modified by this class.</span>
<span class="sd">            nb_rows (int, optional): number of rows of the table, defaults</span>
<span class="sd">                to 20.</span>
<span class="sd">            nb_cols (int, optional): number of columns of the table,</span>
<span class="sd">                defaults to 5.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">params_frame</span><span class="p">,</span>
                 <span class="n">combobox_text_var</span><span class="p">,</span> <span class="n">current_categories</span><span class="p">,</span>
                 <span class="n">str_var_for_input_output_boxes</span><span class="p">,</span>
                 <span class="n">if_text_modified_str</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
                 <span class="n">nb_rows</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">nb_cols</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span> <span class="o">=</span> <span class="n">params_frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combobox_text_var</span> <span class="o">=</span> <span class="n">combobox_text_var</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel_text_observer</span> <span class="o">=</span> <span class="n">PanelTextObserver</span><span class="p">(</span><span class="n">if_text_modified_str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">row_checkboxes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">col_checkboxes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span> <span class="o">=</span> <span class="n">current_categories</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">str_var_for_input_output_boxes</span> <span class="o">=</span> <span class="n">str_var_for_input_output_boxes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">str_var_for_input_output_boxes</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_load_categories</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">nb_rows</span><span class="p">,</span> <span class="n">nb_cols</span><span class="p">)</span>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.create_widgets"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.create_widgets">[docs]</a>    <span class="k">def</span> <span class="nf">create_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Creates widgets of this class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">create_widgets</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">column_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_input_output_box</span><span class="p">(</span><span class="n">column_index</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_row_check_box</span><span class="p">(</span><span class="n">row_index</span><span class="p">)</span>
        <span class="c1"># add observers to add * in the first column</span>
        <span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">panel_text_observer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel_text_observer</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.create_entry_widget"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.create_entry_widget">[docs]</a>    <span class="k">def</span> <span class="nf">create_entry_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Creates SelfValidatingEntry widget.</span>

<span class="sd">            Args:</span>
<span class="sd">                parent (Tk object): parent of the SelfValidatingEntry widget.</span>

<span class="sd">            Returns:</span>
<span class="sd">                SelfValidatingEntry: created SelfValidatingEntry widget.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">SelfValidatingEntry</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">CELL_WIDTH</span><span class="p">)</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.deselect_all_boxes"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.deselect_all_boxes">[docs]</a>    <span class="k">def</span> <span class="nf">deselect_all_boxes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Deselects all Checkbuttons used for choosing input and</span>
<span class="sd">            output categories.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">frame</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
                <span class="n">child</span><span class="o">.</span><span class="n">deselect</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_create_input_output_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Creates Checkbuttons used for choosing input and output categories.</span>

<span class="sd">            Args:</span>
<span class="sd">                column_index (int): index of a column for which</span>
<span class="sd">                    Checkbuttons must be created.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">frame_for_btns</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_with_table</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame_for_btns</span><span class="p">)</span>
        <span class="n">input_var</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="n">output_var</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="n">input_btn</span> <span class="o">=</span> <span class="n">ObserverCheckbutton</span><span class="p">(</span>
            <span class="n">frame_for_btns</span><span class="p">,</span> <span class="n">input_var</span><span class="p">,</span> <span class="n">output_var</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span><span class="o">.</span><span class="n">input_categories_frame</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span><span class="o">.</span><span class="n">output_categories_frame</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">,</span> <span class="n">INPUT_OBSERVER</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span><span class="o">.</span><span class="n">change_category_name</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">combobox_text_var</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Input&#39;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">DISABLED</span><span class="p">)</span>
        <span class="n">input_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
        <span class="n">output_btn</span> <span class="o">=</span> <span class="n">FollowingObserverCheckbutton</span><span class="p">(</span>
            <span class="n">frame_for_btns</span><span class="p">,</span> <span class="n">output_var</span><span class="p">,</span> <span class="n">input_var</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span><span class="o">.</span><span class="n">output_categories_frame</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span><span class="o">.</span><span class="n">input_categories_frame</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">,</span> <span class="n">OUTPUT_OBSERVER</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span><span class="o">.</span><span class="n">change_category_name</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">combobox_text_var</span><span class="p">,</span> <span class="n">input_btn</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Output&#39;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">DISABLED</span><span class="p">)</span>
        <span class="n">output_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_observers</span><span class="p">(</span><span class="n">input_btn</span><span class="p">,</span> <span class="n">output_btn</span><span class="p">,</span> <span class="n">column_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">var</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="n">column_checkbox</span> <span class="o">=</span> <span class="n">CheckbuttonWithVar</span><span class="p">(</span><span class="n">frame_for_btns</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
        <span class="n">column_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">col_checkboxes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">column_checkbox</span><span class="p">,</span> <span class="n">var</span><span class="p">))</span>
        <span class="n">frame_for_btns</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">column_index</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_observers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_btn</span><span class="p">,</span> <span class="n">output_btn</span><span class="p">,</span> <span class="n">column_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Adds observers to newly created cells in a given column.</span>

<span class="sd">            Args:</span>
<span class="sd">                input_btn (ObserverCheckbutton): observer used to select</span>
<span class="sd">                    input categories.</span>
<span class="sd">                output_btn (FollowingObserverCheckbutton): observer used</span>
<span class="sd">                    to select output categories.</span>
<span class="sd">                column_index (int): index of the column to cells of</span>
<span class="sd">                    which observers must be added.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">names_modifier</span> <span class="o">=</span> <span class="n">DefaultCategoriesAndDMUModifier</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_observers_to_cell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="n">column_index</span><span class="p">],</span>
                                        <span class="n">names_modifier</span><span class="p">,</span> <span class="n">input_btn</span><span class="p">,</span> <span class="n">output_btn</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_observers_to_cell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cell</span><span class="p">,</span> <span class="n">names_modifier</span><span class="p">,</span> <span class="n">input_btn</span><span class="p">,</span>
                               <span class="n">output_btn</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Adds given observers to a given cell.</span>

<span class="sd">            Args:</span>
<span class="sd">                cell (SelfValidatingEntry): cell where observers must be added.</span>
<span class="sd">                names_modifier (DefaultCategoriesAndDMUModifier): observer,</span>
<span class="sd">                    for details see  DefaultCategoriesAndDMUModifier.</span>
<span class="sd">                input_btn (ObserverCheckbutton): observer used to select</span>
<span class="sd">                    input categories.</span>
<span class="sd">                output_btn (FollowingObserverCheckbutton): observer used to</span>
<span class="sd">                    select output categories.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">names_modifier</span><span class="p">)</span>  <span class="c1"># IMPORTANT:</span>
        <span class="c1"># this observer MUST be added first, it modifies data that</span>
        <span class="c1"># is used by other observers!</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_btn</span><span class="p">)</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">output_btn</span><span class="p">)</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">panel_text_observer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel_text_observer</span>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.on_load_categories"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.on_load_categories">[docs]</a>    <span class="k">def</span> <span class="nf">on_load_categories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Selects input and output categories when data is loaded from</span>
<span class="sd">            parameters file. Args are provided by the StringVar trace</span>
<span class="sd">            methods and are ignored in this method.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">frame</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">category</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">get_category</span><span class="p">()</span>
                <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">observer_type</span> <span class="o">==</span> <span class="n">INPUT_OBSERVER</span> <span class="ow">and</span>
                            <span class="n">child</span><span class="o">.</span><span class="n">get_category</span><span class="p">()</span> <span class="ow">in</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">str_var_for_input_output_boxes</span><span class="o">.</span><span class="n">input_categories</span><span class="p">):</span>
                        <span class="n">child</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">observer_type</span> <span class="o">==</span> <span class="n">OUTPUT_OBSERVER</span> <span class="ow">and</span>
                            <span class="n">child</span><span class="o">.</span><span class="n">get_category</span><span class="p">()</span> <span class="ow">in</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">str_var_for_input_output_boxes</span><span class="o">.</span><span class="n">output_categories</span><span class="p">):</span>
                        <span class="n">child</span><span class="o">.</span><span class="n">select</span><span class="p">()</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.add_row_check_box"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.add_row_check_box">[docs]</a>    <span class="k">def</span> <span class="nf">add_row_check_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Adds Checkbutton used for removing rows to a given row.</span>

<span class="sd">            Args:</span>
<span class="sd">                row_index (int): index of row to which Checkbutton</span>
<span class="sd">                    must be added.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">row_index</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">var</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
            <span class="n">row_checkbox</span> <span class="o">=</span> <span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_with_table</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">var</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">row_checkboxes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row_checkbox</span><span class="p">,</span> <span class="n">var</span><span class="p">))</span>
            <span class="n">row_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row_index</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">row_checkboxes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.add_column"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.add_column">[docs]</a>    <span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Adds one column to the end of table.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_column</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_create_input_output_box</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.add_row"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.add_row">[docs]</a>    <span class="k">def</span> <span class="nf">add_row</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Adds one row to the end of table.</span>

<span class="sd">            Note: When data is spread across several pages, addition of</span>
<span class="sd">                row must also update the display of data.</span>
<span class="sd">                This functionality is implemented in TableModifierFrame.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_row</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_row_check_box</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">names_modifier</span> <span class="o">=</span> <span class="n">DefaultCategoriesAndDMUModifier</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span><span class="p">):</span>
            <span class="n">input_btn</span><span class="p">,</span> <span class="n">output_btn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_check_boxes</span><span class="p">(</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_observers_to_cell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">],</span>
                                        <span class="n">names_modifier</span><span class="p">,</span>
                                        <span class="n">input_btn</span><span class="p">,</span> <span class="n">output_btn</span><span class="p">)</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.get_check_boxes"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.get_check_boxes">[docs]</a>    <span class="k">def</span> <span class="nf">get_check_boxes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Gets Checkbuttons used for selecting input and output categories</span>
<span class="sd">            for a given column.</span>

<span class="sd">            Args:</span>
<span class="sd">                column_index (int): index of the column for which Checkbuttons</span>
<span class="sd">                    must be returned.</span>

<span class="sd">            Returns:</span>
<span class="sd">                tuple of ObserverCheckbutton, FollowingObserverCheckbutton:</span>
<span class="sd">                    tuple of observers</span>
<span class="sd">                    or None, None if no observers were found.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">column_index</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">column_index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>
        <span class="n">input_btn</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">output_btn</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">observer_type</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">observer_type</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">observer_type</span> <span class="o">==</span> <span class="n">INPUT_OBSERVER</span><span class="p">:</span>
                    <span class="n">input_btn</span> <span class="o">=</span> <span class="n">child</span>
                <span class="k">elif</span> <span class="n">observer_type</span> <span class="o">==</span> <span class="n">OUTPUT_OBSERVER</span><span class="p">:</span>
                    <span class="n">output_btn</span> <span class="o">=</span> <span class="n">child</span>
        <span class="k">return</span> <span class="n">input_btn</span><span class="p">,</span> <span class="n">output_btn</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.remove_column"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.remove_column">[docs]</a>    <span class="k">def</span> <span class="nf">remove_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Removes column with a specified index from the table.</span>
<span class="sd">            If column index is zero or larger than the total number of columns</span>
<span class="sd">            of the table, no column is removed.</span>

<span class="sd">            Args:</span>
<span class="sd">                column_index (int): index of the column to remove.</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool: True if column was removed, False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># we must record category name before removing column,</span>
        <span class="c1"># because it will disappear</span>
        <span class="k">if</span> <span class="n">column_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">category_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">category_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">remove_column</span><span class="p">(</span><span class="n">column_index</span><span class="p">):</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">column_index</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">category_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span><span class="o">.</span><span class="n">input_categories_frame</span><span class="o">.</span><span class="n">remove_category</span><span class="p">(</span>
                    <span class="n">category_name</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">params_frame</span><span class="o">.</span><span class="n">output_categories_frame</span><span class="o">.</span><span class="n">remove_category</span><span class="p">(</span>
                    <span class="n">category_name</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="c1"># remove from data only if category is present</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                    <span class="n">column_with_data_removed</span> <span class="o">=</span> <span class="bp">False</span>
                    <span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)):</span>
                        <span class="k">if</span> <span class="n">column_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">row_index</span><span class="p">]):</span>

                            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">row_index</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">column_index</span><span class="p">)</span>
                            <span class="n">column_with_data_removed</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">if</span> <span class="n">column_with_data_removed</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">):</span>
                            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">column_index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span><span class="p">):</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">data_column</span> <span class="o">-=</span> <span class="mi">1</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">panel_text_observer</span><span class="o">.</span><span class="n">change_state_if_needed</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">grid_remove</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">col_checkboxes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.remove_row"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.remove_row">[docs]</a>    <span class="k">def</span> <span class="nf">remove_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_index</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Removes data row with a specified index from the table.</span>
<span class="sd">            Row is not physically removed.</span>
<span class="sd">            If row_index is zero or larger than the total number of rows,</span>
<span class="sd">            no row is removed.</span>

<span class="sd">            Args:</span>
<span class="sd">                row_index (int): index of the row to remove.</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool: True if row was deleted, False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_remove_row</span><span class="p">(</span><span class="n">row_index</span><span class="p">):</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                <span class="n">nb_pages</span> <span class="o">=</span> <span class="n">calculate_nb_pages</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">)</span>
                <span class="n">data_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_data_index</span><span class="p">(</span><span class="n">row_index</span><span class="p">)</span>
                <span class="n">nb_cols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">])</span>
                
                <span class="k">if</span> <span class="n">data_index</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">data_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">):</span>
                    <span class="n">nb_rows_to_change</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">data_index</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">row_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nb_rows_to_change</span><span class="p">):</span>
                        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">nb_cols</span><span class="p">):</span>
                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">data_row</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">data_row</span> <span class="o">-=</span> <span class="mi">1</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">panel_text_observer</span><span class="o">.</span><span class="n">change_state_if_needed</span><span class="p">()</span>

                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">remove_row</span><span class="p">(</span><span class="n">row_index</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">nb_pages</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_row</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">remove_row</span><span class="p">(</span><span class="n">row_index</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">row_checkboxes</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">row_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_checkboxes</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">row_checkboxes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid_remove</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">row_checkboxes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">row_checkboxes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">row_index</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.get_data_index"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.get_data_index">[docs]</a>    <span class="k">def</span> <span class="nf">get_data_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_index</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">])):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">data_row</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">data_row</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span></div>
                        
<div class="viewcode-block" id="TableFrameWithInputOutputBox.before_cell_destroy"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.before_cell_destroy">[docs]</a>    <span class="k">def</span> <span class="nf">before_cell_destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cell</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; This method is called before a table cell is destroyed.</span>
<span class="sd">            Notifies observers if data is not empty.</span>

<span class="sd">            Args:</span>
<span class="sd">                cell (SelfValidatingEntry): cell that will be destroyed</span>
<span class="sd">                    after call to this method.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">grid_info</span><span class="p">()</span>
        <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">])</span>
        <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;row&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">cell</span><span class="o">.</span><span class="n">notify_observers</span><span class="p">(</span><span class="n">CELL_DESTROY</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.load_visible_data"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.load_visible_data">[docs]</a>    <span class="k">def</span> <span class="nf">load_visible_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Displays data in the table. First, it adds more rows to fill</span>
<span class="sd">            the frame, second, it displays data that fits the table.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_rows_to_fill_visible_frame</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_data</span><span class="p">()</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.display_data"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.display_data">[docs]</a>    <span class="k">def</span> <span class="nf">display_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Displays data starting from a given data row.</span>
<span class="sd">            This method is usually called by NavigationForTableFrame when</span>
<span class="sd">            data spans across</span>
<span class="sd">            several pages and users clicks on page navigation buttons.</span>

<span class="sd">            Args:</span>
<span class="sd">                start_row (int, optional): index of input data starting</span>
<span class="sd">                    from which data should be displayed, defaults to 0.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">nb_data_rows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">nb_displayed_rows</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start_row</span><span class="p">,</span> <span class="n">nb_data_rows</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">row_index</span><span class="p">]</span>
            <span class="c1"># do not insert data that is not visible</span>
            <span class="k">if</span> <span class="n">nb_displayed_rows</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">for</span> <span class="n">column_index</span><span class="p">,</span> <span class="n">coeff</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
                <span class="c1"># row_index + 1 - first row has categories</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_display_one_cell</span><span class="p">(</span><span class="n">nb_displayed_rows</span><span class="p">,</span> <span class="n">column_index</span><span class="p">,</span>
                                       <span class="n">coeff</span><span class="p">,</span> <span class="n">row_index</span><span class="p">,</span>
                                       <span class="n">column_index</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="n">row_index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">nb_displayed_rows</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">nb_cols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nb_cols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_cols</span>

        <span class="n">nb_rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rows</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># -1 because we add +1 to row_index</span>
        <span class="k">while</span> <span class="n">nb_displayed_rows</span> <span class="o">&lt;</span> <span class="n">nb_rows</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">column_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nb_cols</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_display_one_cell</span><span class="p">(</span><span class="n">nb_displayed_rows</span><span class="p">,</span> <span class="n">column_index</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                                       <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="n">nb_displayed_rows</span> <span class="o">+=</span> <span class="mi">1</span></div>

    <span class="k">def</span> <span class="nf">_display_one_cell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_index</span><span class="p">,</span> <span class="n">column_index</span><span class="p">,</span> <span class="n">value_to_dispay</span><span class="p">,</span>
                          <span class="n">data_row</span><span class="p">,</span> <span class="n">data_col</span><span class="p">,</span> <span class="n">modify_data</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Displays data in a cell and sets cell&#39;s fields to proper values.</span>

<span class="sd">            Args:</span>
<span class="sd">                row_index (int): index of a row where the cell is.</span>
<span class="sd">                column_index (int): index of a column where the cell is.</span>
<span class="sd">                value_to_dispay (str): new cell value_to_dispay.</span>
<span class="sd">                data_row (int): row index of input data.</span>
<span class="sd">                data_col (int): column index of input data.</span>
<span class="sd">                modify_data (bool, optional): True if data was modified and</span>
<span class="sd">                    observers</span>
<span class="sd">                    must be notified, False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">cell_row_index</span> <span class="o">=</span> <span class="n">row_index</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">cell_row_index</span><span class="p">][</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">modify_data</span> <span class="o">=</span> <span class="n">modify_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">cell_row_index</span><span class="p">][</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">value_to_dispay</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">cell_row_index</span><span class="p">][</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">data_row</span> <span class="o">=</span> <span class="n">data_row</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">cell_row_index</span><span class="p">][</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">data_column</span> <span class="o">=</span> <span class="n">data_col</span>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.add_rows_to_fill_visible_frame"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.add_rows_to_fill_visible_frame">[docs]</a>    <span class="k">def</span> <span class="nf">add_rows_to_fill_visible_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Adds rows to table to fill the frame. Usually adds a bit more and</span>
<span class="sd">            scroll gets activated.</span>
<span class="sd">            Exact number of added rows depends on operating system, height of</span>
<span class="sd">            widgets and screen size.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
        <span class="n">frame_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">winfo_height</span><span class="p">()</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bbox</span><span class="p">(</span><span class="n">ALL</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">frame_height</span> <span class="o">-</span> <span class="mi">20</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_row</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_scroll_region</span><span class="p">()</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.check_value"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.check_value">[docs]</a>    <span class="k">def</span> <span class="nf">check_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; This method is called in read_coefficients method to check what</span>
<span class="sd">            values must be returned for data instance construction.</span>

<span class="sd">            Args:</span>
<span class="sd">                count (int): data column index.</span>
<span class="sd">            Returns:</span>
<span class="sd">                bool: True if the category in the given column index is not</span>
<span class="sd">                    an empty string,</span>
<span class="sd">                    False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">[</span><span class="n">count</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.clear_all_data"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.clear_all_data">[docs]</a>    <span class="k">def</span> <span class="nf">clear_all_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Clears all data from all cells and clears input data.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">clear_all_data</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="c1"># reset modify data back to true</span>
        <span class="k">for</span> <span class="n">cell_row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">cell_row</span><span class="p">:</span>
                <span class="n">cell</span><span class="o">.</span><span class="n">modify_data</span> <span class="o">=</span> <span class="bp">True</span></div>

<div class="viewcode-block" id="TableFrameWithInputOutputBox.before_cell_clear"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.TableFrameWithInputOutputBox.before_cell_clear">[docs]</a>    <span class="k">def</span> <span class="nf">before_cell_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cell</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; This method is called before data is cleared from a given cell.</span>
<span class="sd">            It sets fields of the given cell to initial values.</span>

<span class="sd">            Args:</span>
<span class="sd">                cell (SelfValidatingEntry): cell that will be cleared after</span>
<span class="sd">                    call to this method.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">modify_data</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">data_row</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">data_column</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span></div></div>


<div class="viewcode-block" id="ObserverCheckbutton"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.ObserverCheckbutton">[docs]</a><span class="k">class</span> <span class="nc">ObserverCheckbutton</span><span class="p">(</span><span class="n">Checkbutton</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; This class implements Checkbutton for choosing input/output categories.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            var (IntVar): variable that is set to 1 when Checkbutton is</span>
<span class="sd">                selected, to 0 otherwise.</span>
<span class="sd">            opposite_var (IntVar): variable of the other Checkbutton that</span>
<span class="sd">                must deselected if this Checkbutton is selected.</span>
<span class="sd">            parent (Tk object): frame that holds this Checkbutton.</span>

<span class="sd">                Warning:</span>
<span class="sd">                    it is important for the parent to be gridded in the</span>
<span class="sd">                    same column</span>
<span class="sd">                    as the entire column of table entries is gridded, because</span>
<span class="sd">                    this class uses parent grid column index to determine</span>
<span class="sd">                    the column where the category name can be read from.</span>

<span class="sd">            category_frame (CategoriesCheckBox): frame that displays selected</span>
<span class="sd">                input or output categories.</span>

<span class="sd">                Note:</span>
<span class="sd">                    if this Checkbutton is used to select input categories,</span>
<span class="sd">                    category_frame must be CategoriesCheckBox object that</span>
<span class="sd">                    displays selected input categories.</span>
<span class="sd">                    if this Checkbutton is used to select output categories,</span>
<span class="sd">                    category_frame  must be CategoriesCheckBox object that</span>
<span class="sd">                    displays selected output categories.</span>

<span class="sd">            opposite_category_frame (CategoriesCheckBox): frame that displays</span>
<span class="sd">                selected input or output categories. If category_frame</span>
<span class="sd">                displays input categories, then opposite_category_frame</span>
<span class="sd">                must display output categories, and vice versa.</span>
<span class="sd">            current_categories (list of str): list of categories. This class</span>
<span class="sd">                might modify this list by removing invalid categories and</span>
<span class="sd">                adding the valid ones.</span>
<span class="sd">            cells (list of list of SelfValidatingEntry): all entry widgets</span>
<span class="sd">                collected in list.</span>
<span class="sd">            data (list of list of str or float): input data.</span>
<span class="sd">            observer_type (int): describes type of the observer, for possible</span>
<span class="sd">                values see dea_utils.</span>
<span class="sd">            change_category_name (callable function): this function is</span>
<span class="sd">                called when name of a category was changed.</span>
<span class="sd">            combobox_text_var (StringVar): variable of the combobox used for</span>
<span class="sd">                selecting categorical category.</span>

<span class="sd">        Arguments are the same as attributes.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">opposite_var</span><span class="p">,</span> <span class="n">category_frame</span><span class="p">,</span>
                 <span class="n">opposite_category_frame</span><span class="p">,</span>
                 <span class="n">current_categories</span><span class="p">,</span> <span class="n">cells</span><span class="p">,</span>
                 <span class="n">observer_type</span><span class="p">,</span> <span class="n">change_category_name</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
                 <span class="n">combobox_text_var</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="n">Checkbutton</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">var</span><span class="p">,</span>
                             <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_process</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">var</span> <span class="o">=</span> <span class="n">var</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opposite_var</span> <span class="o">=</span> <span class="n">opposite_var</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category_frame</span> <span class="o">=</span> <span class="n">category_frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opposite_category_frame</span> <span class="o">=</span> <span class="n">opposite_category_frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span> <span class="o">=</span> <span class="n">current_categories</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cells</span> <span class="o">=</span> <span class="n">cells</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">observer_type</span> <span class="o">=</span> <span class="n">observer_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">change_category_name</span> <span class="o">=</span> <span class="n">change_category_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combobox_text_var</span> <span class="o">=</span> <span class="n">combobox_text_var</span>

    <span class="k">def</span> <span class="nf">_process</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; This method is called when user clicks on Checkbutton.</span>
<span class="sd">            Makes sure that the same category can be only input or only</span>
<span class="sd">            output, but not both, and that selected category cannot also</span>
<span class="sd">            be selected as a categorical category.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">category_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_category</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opposite_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">category_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">category_frame</span><span class="o">.</span><span class="n">add_category</span><span class="p">(</span><span class="n">category_name</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opposite_category_frame</span><span class="o">.</span><span class="n">remove_category</span><span class="p">(</span><span class="n">category_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">category_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">combobox_text_var</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">combobox_text_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">category_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">category_frame</span><span class="o">.</span><span class="n">remove_category</span><span class="p">(</span><span class="n">category_name</span><span class="p">)</span>

<div class="viewcode-block" id="ObserverCheckbutton.deselect"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.ObserverCheckbutton.deselect">[docs]</a>    <span class="k">def</span> <span class="nf">deselect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Deselects Checkbutton.</span>

<span class="sd">            Note:</span>
<span class="sd">                method _process() is not called in this case.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObserverCheckbutton.select"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.ObserverCheckbutton.select">[docs]</a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Selects Checkbutton.</span>

<span class="sd">            Note:</span>
<span class="sd">                method _process() is not called in this case.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObserverCheckbutton.change_state_if_needed"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.ObserverCheckbutton.change_state_if_needed">[docs]</a>    <span class="k">def</span> <span class="nf">change_state_if_needed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="p">,</span> <span class="n">entry_state</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Changes state of Checkbutton when data or categories were modified.</span>
<span class="sd">            Also modifies current_categories if needed.</span>
<span class="sd">            This widget becomes disabled if invalid category name value or input</span>
<span class="sd">            data value were provided by user.</span>

<span class="sd">            Args:</span>
<span class="sd">                entry (SelfValidatingEntry): Entry widget whose content was</span>
<span class="sd">                    modified.</span>
<span class="sd">                entry_state (int): state of the Entry widget after content</span>
<span class="sd">                    modification, for possible values see dea_utils module.</span>
<span class="sd">                row (int): row index of entry widget. It is the real grid value,</span>
<span class="sd">                    we need to subtract 2 to get internal index.</span>
<span class="sd">                col (int): column index of entry widget. It is the real grid</span>
<span class="sd">                    value, we need to subtract 2 to get internal index.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">entry_state</span> <span class="o">==</span> <span class="n">CHANGE_CATEGORY_NAME</span><span class="p">:</span>
            <span class="n">old_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="n">internal_col</span> <span class="o">=</span> <span class="n">col</span> <span class="o">-</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">internal_col</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">):</span>
                <span class="n">old_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">[</span><span class="n">internal_col</span><span class="p">]</span>

            <span class="n">category_name</span> <span class="o">=</span> <span class="n">validate_category_name</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
                <span class="n">internal_col</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">category_name</span><span class="p">:</span>

                <span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">)</span>
                <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="n">internal_col</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                    <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">[</span><span class="n">internal_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">category_name</span>

                <span class="k">if</span> <span class="n">old_name</span><span class="p">:</span>
                    <span class="c1"># change category name in params_frame</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">change_category_name</span><span class="p">(</span><span class="n">old_name</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">category_name</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">change_state_based_on_data</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">entry_state</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
                <span class="n">entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># if category name is empty, disable</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">disable</span><span class="p">(</span><span class="n">internal_col</span><span class="p">,</span> <span class="n">old_name</span><span class="p">)</span>
                <span class="n">entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">change_state_based_on_data</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">entry_state</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObserverCheckbutton.change_state_based_on_data"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.ObserverCheckbutton.change_state_based_on_data">[docs]</a>    <span class="k">def</span> <span class="nf">change_state_based_on_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="p">,</span> <span class="n">entry_state</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Changes state of Checkbutton when data was modified.</span>

<span class="sd">            Args:</span>
<span class="sd">                entry (SelfValidatingEntry): Entry widget whose content</span>
<span class="sd">                    was modified.</span>
<span class="sd">                entry_state (int): state of the Entry widget after content</span>
<span class="sd">                    modification, for possible values see dea_utils module.</span>
<span class="sd">                row (int): row index of entry widget. It is the real grid</span>
<span class="sd">                    value, we need to subtract 2 to get internal index.</span>
<span class="sd">                col (int): column index of entry widget. It is the real grid</span>
<span class="sd">                    value, we need to subtract 2 to get internal index.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">internal_col</span> <span class="o">=</span> <span class="n">col</span> <span class="o">-</span> <span class="mi">2</span>
        <span class="c1"># IMPORTANT: read from cells, not from current_categories, they might</span>
        <span class="c1"># be empty at this stage</span>
        <span class="n">category_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">nb_rows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nb_rows</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disable</span><span class="p">(</span><span class="n">internal_col</span><span class="p">,</span> <span class="n">category_name</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disable</span><span class="p">(</span><span class="n">internal_col</span><span class="p">,</span> <span class="n">category_name</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">has_one_valid_entry</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nb_rows</span><span class="p">):</span>
            <span class="c1"># can happen if some values are empty</span>
            <span class="k">while</span> <span class="n">col</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">row_index</span><span class="p">]):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">row_index</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># col - 1  - first column contains DMU names</span>
                <span class="n">data_elem</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">NOT_VALID_COEFF</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">is_valid_coeff</span><span class="p">(</span><span class="n">data_elem</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="n">NOT_VALID_COEFF</span><span class="p">:</span>
                <span class="n">has_one_valid_entry</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">disable</span><span class="p">(</span><span class="n">internal_col</span><span class="p">,</span> <span class="n">category_name</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="k">elif</span> <span class="n">state</span> <span class="o">==</span> <span class="n">VALID_COEFF</span> <span class="ow">or</span> <span class="n">state</span> <span class="o">==</span> <span class="n">WARNING_COEFF</span><span class="p">:</span>
                <span class="n">has_one_valid_entry</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="k">if</span> <span class="n">has_one_valid_entry</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">NORMAL</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">category_name</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">category_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="n">internal_col</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">[</span><span class="n">internal_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">category_name</span>
                <span class="k">if</span> <span class="n">entry_state</span> <span class="o">!=</span> <span class="n">CELL_DESTROY</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">category_frame</span><span class="o">.</span><span class="n">add_category</span><span class="p">(</span><span class="n">category_name</span><span class="p">)</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="ObserverCheckbutton.disable"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.ObserverCheckbutton.disable">[docs]</a>    <span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">internal_col</span><span class="p">,</span> <span class="n">category_name</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Disables Checkbutton.</span>

<span class="sd">            Args:</span>
<span class="sd">                internal_col (int): internal column index.</span>
<span class="sd">                category_name (str): name of category.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">DISABLED</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">category_name</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">category_frame</span><span class="o">.</span><span class="n">remove_category</span><span class="p">(</span><span class="n">category_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opposite_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opposite_category_frame</span><span class="o">.</span><span class="n">remove_category</span><span class="p">(</span><span class="n">category_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">category_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">:</span>
                <span class="k">assert</span><span class="p">(</span><span class="n">internal_col</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">[</span><span class="n">internal_col</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="k">if</span> <span class="n">category_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">combobox_text_var</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">combobox_text_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObserverCheckbutton.get_category"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.ObserverCheckbutton.get_category">[docs]</a>    <span class="k">def</span> <span class="nf">get_category</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Finds category name stored in the corresponding Entry widget</span>
<span class="sd">            based on where parent of Checkbutton was gridded.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str: category name, might be empty string.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">grid_info</span><span class="p">()</span>
        <span class="c1"># convertion to int is necessary for Windows</span>
        <span class="c1"># for some reason in Windows grid info is stored as str</span>
        <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="FollowingObserverCheckbutton"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.FollowingObserverCheckbutton">[docs]</a><span class="k">class</span> <span class="nc">FollowingObserverCheckbutton</span><span class="p">(</span><span class="n">ObserverCheckbutton</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; This class follows state of another ObserverCheckbutton that is</span>
<span class="sd">        used to select input or output categories.</span>
<span class="sd">        This class is used in order to skip checking if data is valid</span>
<span class="sd">        second time. The first Checkbutton has already performed this check.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            var (IntVar): variable that is set to 1 when Checkbutton</span>
<span class="sd">                is selected, to 0 otherwise.</span>
<span class="sd">            opposite_var (IntVar): variable of the other Checkbutton that</span>
<span class="sd">                must deselected if this Checkbutton is selected.</span>
<span class="sd">            parent (Tk object): frame that holds this Checkbutton.</span>

<span class="sd">                Warning:</span>
<span class="sd">                    it is important for the parent to be gridded in the</span>
<span class="sd">                    same column as the entire column of table entries</span>
<span class="sd">                    is gridded, because this class uses parent grid column</span>
<span class="sd">                    index to determine the column</span>
<span class="sd">                    where the category name can be read from.</span>

<span class="sd">            category_frame (CategoriesCheckBox): frame that displays</span>
<span class="sd">                selected input or output categories.</span>

<span class="sd">                Note:</span>
<span class="sd">                    if this Checkbutton is used to select input categories,</span>
<span class="sd">                    category_frame must be CategoriesCheckBox object that</span>
<span class="sd">                    displays selected input categories.</span>
<span class="sd">                    if this Checkbutton is used to select output categories,</span>
<span class="sd">                    category_frame</span>
<span class="sd">                    must be CategoriesCheckBox object that displays selected</span>
<span class="sd">                    output categories.</span>

<span class="sd">            opposite_category_frame (CategoriesCheckBox): frame that displays</span>
<span class="sd">                selected input or output categories. If category_frame displays</span>
<span class="sd">                input categories, then opposite_category_frame</span>
<span class="sd">                must display output categories, and vice versa.</span>
<span class="sd">            current_categories (list of str): list of categories. This class</span>
<span class="sd">                might modify this list by removing invalid categories and</span>
<span class="sd">                adding the valid ones.</span>
<span class="sd">            cells (list of list of SelfValidatingEntry): all entry widgets</span>
<span class="sd">                collected in list.</span>
<span class="sd">            data (list of list of str or float): input data.</span>
<span class="sd">            observer_type (int): describes type of the observer, for</span>
<span class="sd">                possible values see dea_utils.</span>
<span class="sd">            change_category_name (callable function): this function is called</span>
<span class="sd">                when name of a category was changed.</span>
<span class="sd">            combobox_text_var (StringVar): variable of the combobox used for</span>
<span class="sd">                selecting categorical category.</span>
<span class="sd">            main_box (ObserverCheckbutton): Checkbutton that changes state</span>
<span class="sd">                first. This Checkbutton changes its state to the same state</span>
<span class="sd">                as main_box, but does not do extra things</span>
<span class="sd">                that have been already performed by main_box</span>
<span class="sd">                (changes to current_categories, for example).</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">opposite_var</span><span class="p">,</span> <span class="n">category_frame</span><span class="p">,</span>
                 <span class="n">opposite_category_frame</span><span class="p">,</span>
                 <span class="n">current_categories</span><span class="p">,</span> <span class="n">cells</span><span class="p">,</span>
                 <span class="n">observer_type</span><span class="p">,</span> <span class="n">params_frame</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
                 <span class="n">combobox_text_var</span><span class="p">,</span> <span class="n">main_box</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">opposite_var</span><span class="p">,</span> <span class="n">category_frame</span><span class="p">,</span>
                         <span class="n">opposite_category_frame</span><span class="p">,</span> <span class="n">current_categories</span><span class="p">,</span> <span class="n">cells</span><span class="p">,</span>
                         <span class="n">observer_type</span><span class="p">,</span> <span class="n">params_frame</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
                         <span class="n">combobox_text_var</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_box</span> <span class="o">=</span> <span class="n">main_box</span>

<div class="viewcode-block" id="FollowingObserverCheckbutton.change_state_if_needed"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.FollowingObserverCheckbutton.change_state_if_needed">[docs]</a>    <span class="k">def</span> <span class="nf">change_state_if_needed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="p">,</span> <span class="n">entry_state</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Changes state of Checkbutton when data was modified depending on</span>
<span class="sd">            the state of main_box.</span>

<span class="sd">            Args:</span>
<span class="sd">                entry (SelfValidatingEntry): Entry widget whose content</span>
<span class="sd">                    was modified.</span>
<span class="sd">                entry_state (int): state of the Entry widget after content</span>
<span class="sd">                    modification, for possible values see dea_utils module.</span>
<span class="sd">                row (int): row index of entry widget. It is the real grid</span>
<span class="sd">                    value, we need to subtract 2 to get internal index.</span>
<span class="sd">                col (int): column index of entry widget. It is the real grid</span>
<span class="sd">                    value, we need to subtract 2 to get internal index.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">category_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_category</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_box</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;state&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="n">DISABLED</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disable</span><span class="p">(</span><span class="n">col</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">category_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">NORMAL</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">entry_state</span> <span class="o">!=</span> <span class="n">CELL_DESTROY</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">category_frame</span><span class="o">.</span><span class="n">add_category</span><span class="p">(</span><span class="n">category_name</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="DefaultCategoriesAndDMUModifier"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.DefaultCategoriesAndDMUModifier">[docs]</a><span class="k">class</span> <span class="nc">DefaultCategoriesAndDMUModifier</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; This class is responsible for adding automatic category and DMU names</span>
<span class="sd">        if user starts typing data without providing such names first.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            cells (list of list of SelfValidatingEntry): list of all Entry</span>
<span class="sd">                widgets with data.</span>
<span class="sd">            current_categories (list of str): list of categories.</span>

<span class="sd">        Args:</span>
<span class="sd">            cells (list of list of SelfValidatingEntry): list of all Entry</span>
<span class="sd">                widgets with data.</span>
<span class="sd">            current_categories (list of str): list of categories.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cells</span><span class="p">,</span> <span class="n">current_categories</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cells</span> <span class="o">=</span> <span class="n">cells</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span> <span class="o">=</span> <span class="n">current_categories</span>

<div class="viewcode-block" id="DefaultCategoriesAndDMUModifier.change_state_if_needed"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.DefaultCategoriesAndDMUModifier.change_state_if_needed">[docs]</a>    <span class="k">def</span> <span class="nf">change_state_if_needed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="p">,</span> <span class="n">entry_state</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Writes automatic category and DMU names if they were not</span>
<span class="sd">            specified before.</span>

<span class="sd">            Args:</span>
<span class="sd">                entry (SelfValidatingEntry): Entry widget the content</span>
<span class="sd">                    of which was modified.</span>
<span class="sd">                entry_state (int): constant that describes entry state,</span>
<span class="sd">                    for details see dea_utils module.</span>
<span class="sd">                row (int): row index of entry widget. It is the real grid value,</span>
<span class="sd">                    we need to subtract 2 to get internal index.</span>
<span class="sd">                col (int): column index of entry widget. It is the real grid</span>
<span class="sd">                    value, we need to subtract 2 to get internal index.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">entry_state</span> <span class="o">!=</span> <span class="n">EMPTY_COEFF</span> <span class="ow">and</span> <span class="n">entry_state</span> <span class="o">!=</span> <span class="n">CELL_DESTROY</span> <span class="ow">and</span>
                <span class="n">entry_state</span> <span class="o">!=</span> <span class="n">CHANGE_CATEGORY_NAME</span><span class="p">):</span>
            <span class="n">internal_row_index</span> <span class="o">=</span> <span class="n">row</span> <span class="o">-</span> <span class="mi">2</span>
            <span class="n">dmu_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">internal_row_index</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">dmu_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="n">internal_row_index</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
                    <span class="s1">&#39;DMU{0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">internal_row_index</span><span class="p">))</span>
            <span class="n">category_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">category_name</span><span class="p">:</span>
                <span class="n">internal_col_index</span> <span class="o">=</span> <span class="n">col</span> <span class="o">-</span> <span class="mi">2</span>
                <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Category{0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">internal_col_index</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">internal_col_index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">):</span>
                    <span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                    <span class="k">while</span> <span class="n">index</span> <span class="o">!=</span> <span class="n">internal_col_index</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">current_categories</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="c1"># category name MUST be written first, because next line calls</span>
                <span class="c1"># ObserverCheckbutton</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="SelfValidatingEntry"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.SelfValidatingEntry">[docs]</a><span class="k">class</span> <span class="nc">SelfValidatingEntry</span><span class="p">(</span><span class="n">Entry</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; This class implement Entry widget that knows how to highlight</span>
<span class="sd">        invalid data. It also notifies other widgets if the content of</span>
<span class="sd">        Entry changes. Other widgets must implement method</span>
<span class="sd">        change_state_if_needed().</span>
<span class="sd">        Such widgets should be appended to the list of listening widgets</span>
<span class="sd">        called observers.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            text_value (StringVar): textvariable of Entry widget that</span>
<span class="sd">                calls method on_text_changed when the content on Entry changes.</span>
<span class="sd">            observers (list of objects that implement method change_state_if_needed):</span>
<span class="sd">                list of widgets or other objects that must be notified if the</span>
<span class="sd">                content of Entry changes.</span>
<span class="sd">            data_row (int): row index in data table which should be modified</span>
<span class="sd">                when the content of Entry changes.</span>
<span class="sd">            data_column (int): column index in data table which should be</span>
<span class="sd">                modified when the content of Entry changes.</span>
<span class="sd">            data (list of list of srt or float): data that will be modified.</span>
<span class="sd">            modify_data (bool): True if data should be modified, False</span>
<span class="sd">                otherwise. It is usually set to False when data is uploaded</span>
<span class="sd">                from file.</span>
<span class="sd">            panel_text_observer (PanelTextObserver): object that is notified</span>
<span class="sd">                when data changes.</span>
<span class="sd">                This object is responsible for adding star to file name when</span>
<span class="sd">                data was modified.</span>
<span class="sd">            all_cells (list of list of SelfValidatingEntry): refernce where all cells </span>
<span class="sd">                are stored.</span>
<span class="sd">                    Warning: all cells must be created before any cell content</span>
<span class="sd">                        can be modified.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (Tk object): parent of this Entry widget.</span>
<span class="sd">            data (list of list of srt or float): input data that will</span>
<span class="sd">                be modified.</span>
<span class="sd">            all_cells (list of list of SelfValidatingEntry): refernce where all cells </span>
<span class="sd">                are stored.</span>
<span class="sd">                    Warning: all cells must be created before any cell content</span>
<span class="sd">                        can be modified.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">all_cells</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_value</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_text_changed</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all_cells</span> <span class="o">=</span> <span class="n">all_cells</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_row</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_column</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modify_data</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel_text_observer</span> <span class="o">=</span> <span class="bp">None</span>

<div class="viewcode-block" id="SelfValidatingEntry.on_text_changed"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.SelfValidatingEntry.on_text_changed">[docs]</a>    <span class="k">def</span> <span class="nf">on_text_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; This method is called each time the content of Entry is modified.</span>
<span class="sd">            It highlights invalid data, changes data if needed and notifies</span>
<span class="sd">            other objects when data was changed.</span>
<span class="sd">            Args are provided by StringVar trace method, but are not used.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_info</span><span class="p">()</span>
        <span class="c1"># phisical grid indeces</span>
        <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">])</span>
        <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;row&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">notify_panel_observer</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">row</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># possibly name of category is modified</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">notify_observers</span><span class="p">(</span><span class="n">CHANGE_CATEGORY_NAME</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">col</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">row</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># column with DMU names, strings are allowed</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">modify_data_if_needed</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">col</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">row</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># everything left</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">modify_data_if_needed</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">modify_data</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">notify_observers</span><span class="p">(</span><span class="n">EMPTY_COEFF</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">notify_observers</span><span class="p">(</span><span class="n">NOT_VALID_COEFF</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="n">text_status</span> <span class="o">=</span> <span class="n">is_valid_coeff</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">text_status</span> <span class="o">==</span> <span class="n">NOT_VALID_COEFF</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">text_status</span> <span class="o">==</span> <span class="n">WARNING_COEFF</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">notify_observers</span><span class="p">(</span><span class="n">text_status</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modify_data</span> <span class="o">=</span> <span class="bp">True</span></div>

<div class="viewcode-block" id="SelfValidatingEntry.modify_data_if_needed"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.SelfValidatingEntry.modify_data_if_needed">[docs]</a>    <span class="k">def</span> <span class="nf">modify_data_if_needed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Modifies data if modify_data is set to True.</span>
<span class="sd">            Adds empty strings to data when user modifies Entry for which</span>
<span class="sd">            data_row or/and data_column are equal to -1. Updates data with new</span>
<span class="sd">            values entered by user.</span>

<span class="sd">            Args:</span>
<span class="sd">                row (int): row where Entry is gridded</span>
<span class="sd">                col (int): column where Entry is gridded</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">modify_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_row</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_column</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_row</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">data_column</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>

                <span class="n">row_for_data</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
                <span class="n">added_rows</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="c1"># -2 because row is physical grid index, not cell index</span>
                <span class="n">row_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_cells</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">for</span> <span class="n">cells_row</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_cells</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">cells_row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data_row</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="k">break</span>
                    <span class="n">row_count</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">row_count</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">row_count</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">while</span> <span class="n">row_count</span> <span class="o">&lt;</span> <span class="n">row</span> <span class="o">-</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                    <span class="n">added_rows</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="n">row_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">added_rows</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_row</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="n">row_count</span> <span class="o">&gt;=</span> <span class="n">row</span> <span class="o">-</span> <span class="mi">2</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_row</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">row_count</span> <span class="o">-</span> <span class="p">(</span><span class="n">row</span> <span class="o">-</span> <span class="mi">2</span><span class="p">))</span>
                <span class="n">col_for_data</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_row</span><span class="p">])</span>
                <span class="n">added_cols</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="n">max_nb_col</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">nb_rows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">r_ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nb_rows</span><span class="p">):</span>
                    <span class="n">row_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">r_ind</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">row_len</span> <span class="o">&gt;</span> <span class="n">max_nb_col</span><span class="p">:</span>
                        <span class="n">max_nb_col</span> <span class="o">=</span> <span class="n">row_len</span>
                <span class="n">max_nb_col</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_nb_col</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
                <span class="n">c_ind</span> <span class="o">=</span> <span class="n">col_for_data</span>
                <span class="k">while</span> <span class="n">c_ind</span> <span class="o">&lt;</span> <span class="n">max_nb_col</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_row</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                    <span class="n">grid_col</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_row</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">all_cells</span><span class="p">[</span><span class="n">row</span> <span class="o">-</span> <span class="mi">2</span><span class="p">][</span><span class="n">grid_col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data_row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_row</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">all_cells</span><span class="p">[</span><span class="n">row</span> <span class="o">-</span> <span class="mi">2</span><span class="p">][</span><span class="n">grid_col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data_column</span> <span class="o">=</span> <span class="n">c_ind</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">notify_observers</span><span class="p">(</span><span class="n">EMPTY_COEFF</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">grid_col</span><span class="p">)</span>
                    <span class="n">added_cols</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="n">c_ind</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">col_for_data</span> <span class="o">&lt;</span> <span class="n">col</span><span class="p">):</span>
                        <span class="n">col_for_data</span> <span class="o">+=</span> <span class="mi">1</span>
                
                <span class="k">if</span> <span class="n">added_cols</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">r_ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nb_rows</span><span class="p">):</span>
                        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">r_ind</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">max_nb_col</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">r_ind</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                            <span class="n">grid_col</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">r_ind</span><span class="p">])</span>
                            <span class="k">if</span> <span class="n">r_ind</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_row</span> <span class="o">-</span> <span class="p">(</span><span class="n">row</span> <span class="o">-</span> <span class="mi">3</span><span class="p">):</span>  <span class="c1"># 3 is the first physical </span>
                            <span class="c1"># row with data on the page</span>
                                <span class="n">grid_row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_row</span> <span class="o">-</span> <span class="n">r_ind</span><span class="p">)</span>
                                
                                <span class="bp">self</span><span class="o">.</span><span class="n">all_cells</span><span class="p">[</span><span class="n">grid_row</span> <span class="o">-</span> <span class="mi">2</span><span class="p">][</span><span class="n">grid_col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data_row</span> <span class="o">=</span> <span class="n">r_ind</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">all_cells</span><span class="p">[</span><span class="n">grid_row</span> <span class="o">-</span> <span class="mi">2</span><span class="p">][</span><span class="n">grid_col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data_column</span> <span class="o">=</span> <span class="n">grid_col</span> <span class="o">-</span> <span class="mi">1</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">notify_observers</span><span class="p">(</span><span class="n">EMPTY_COEFF</span><span class="p">,</span> <span class="n">grid_row</span><span class="p">,</span> <span class="n">grid_col</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">data_column</span> <span class="o">=</span> <span class="n">col_for_data</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_column</span> <span class="o">=</span> <span class="n">col</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_row</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">data_column</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span></div>

<div class="viewcode-block" id="SelfValidatingEntry.notify_panel_observer"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.SelfValidatingEntry.notify_panel_observer">[docs]</a>    <span class="k">def</span> <span class="nf">notify_panel_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Notifies panel observer that data was modified.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel_text_observer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">modify_data</span> <span class="ow">is</span> <span class="bp">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel_text_observer</span><span class="o">.</span><span class="n">change_state_if_needed</span><span class="p">()</span></div>

<div class="viewcode-block" id="SelfValidatingEntry.notify_observers"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.SelfValidatingEntry.notify_observers">[docs]</a>    <span class="k">def</span> <span class="nf">notify_observers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry_state</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Notifies all observers stored in list of observers that data</span>
<span class="sd">            was modified.</span>

<span class="sd">            Args:</span>
<span class="sd">                entry_state (int): state of the Entry widget that describes if</span>
<span class="sd">                    data is valid after modification, for possible values see</span>
<span class="sd">                    dea_utils module.</span>
<span class="sd">                row (int): row where Entry is gridded.</span>
<span class="sd">                col (int): column where Entry is gridded.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">for</span> <span class="n">observer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span>
            <span class="n">observer</span><span class="o">.</span><span class="n">change_state_if_needed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry_state</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PanelTextObserver"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.PanelTextObserver">[docs]</a><span class="k">class</span> <span class="nc">PanelTextObserver</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; This class changes StringVar value that is traced in other classes.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            if_text_modified_str (StringVar): StringVar object that</span>
<span class="sd">                changes value when this observer is notified.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">if_text_modified_str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">if_text_modified_str</span> <span class="o">=</span> <span class="n">if_text_modified_str</span>

<div class="viewcode-block" id="PanelTextObserver.change_state_if_needed"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.PanelTextObserver.change_state_if_needed">[docs]</a>    <span class="k">def</span> <span class="nf">change_state_if_needed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Changes value of internal StringVar object.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">if_text_modified_str</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CheckbuttonWithVar"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.CheckbuttonWithVar">[docs]</a><span class="k">class</span> <span class="nc">CheckbuttonWithVar</span><span class="p">(</span><span class="n">Checkbutton</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Custom Checkbutton widget that provides deselect method.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            var (IntVar): 0 if not selected, 1 otherwise.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (Tk object): parent of this widget.</span>
<span class="sd">            var (IntVar): variable that controls if Checkbutton is selected.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">var</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">var</span> <span class="o">=</span> <span class="n">var</span>

<div class="viewcode-block" id="CheckbuttonWithVar.deselect"><a class="viewcode-back" href="../../../../pyDEA.core.gui_modules.html#pyDEA.core.gui_modules.table_gui.CheckbuttonWithVar.deselect">[docs]</a>    <span class="k">def</span> <span class="nf">deselect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Deselects Checkbutton.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Andrea Raith, Fariza Fauzi and Olga Perederieieva.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>