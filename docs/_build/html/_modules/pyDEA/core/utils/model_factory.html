

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyDEA.core.utils.model_factory &mdash; pyDEA  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pyDEA  documentation" href="../../../../index.html"/>
        <link rel="up" title="Module code" href="../../../index.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> pyDEA
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../userGuide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pyDEA.html">pyDEA package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">pyDEA</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
      
    <li>pyDEA.core.utils.model_factory</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyDEA.core.utils.model_factory</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39; This module contains classes responsible for creating a</span>
<span class="sd">    proper DEA model.</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="kn">from</span> <span class="nn">core.models.envelopment_model_base</span> <span class="kn">import</span> <span class="n">EnvelopmentModelBase</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model</span> <span class="kn">import</span> <span class="n">EnvelopmentModelInputOriented</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model</span> <span class="kn">import</span> <span class="n">EnvelopmentModelOutputOriented</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model</span> <span class="kn">import</span> <span class="n">EnvelopmentModelInputOrientedWithNonDiscVars</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model</span> <span class="kn">import</span> <span class="n">EnvelopmentModelOutputOrientedWithNonDiscVars</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model_decorators</span> <span class="kn">import</span> <span class="n">EnvelopmentModelVRSDecorator</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model_decorators</span> <span class="kn">import</span> <span class="n">DefaultConstraintCreator</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model_decorators</span> <span class="kn">import</span> <span class="n">DisposableVarsConstraintCreator</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model_decorators</span> <span class="kn">import</span> <span class="n">EnvelopmentModelWithAbsoluteWeightRestrictions</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model_decorators</span> <span class="kn">import</span> <span class="n">EnvelopmentModelWithVirtualWeightRestrictions</span>
<span class="kn">from</span> <span class="nn">core.models.envelopment_model_decorators</span> <span class="kn">import</span> <span class="n">EnvelopmentModelWithPriceRatioConstraints</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model</span> <span class="kn">import</span> <span class="n">MultiplierInputOrientedModel</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model</span> <span class="kn">import</span> <span class="n">MultiplierOutputOrientedModel</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model_base</span> <span class="kn">import</span> <span class="n">MultiplierModelBase</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model_decorators</span> <span class="kn">import</span> <span class="n">MultiplierModelVRSDecorator</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model_decorators</span> <span class="kn">import</span> <span class="n">MultiplierModelWithDisposableCategories</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model_decorators</span> <span class="kn">import</span> <span class="n">MultiplierModelWithAbsoluteWeightRestrictions</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model_decorators</span> <span class="kn">import</span> <span class="n">MultiplierModelWithVirtualWeightRestrictions</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model_decorators</span> <span class="kn">import</span> <span class="n">MultiplierModelWithPriceRatioConstraints</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model_decorators</span> <span class="kn">import</span> <span class="n">MultiplierModelInputOrientedWithNonDiscVars</span>
<span class="kn">from</span> <span class="nn">core.models.multiplier_model_decorators</span> <span class="kn">import</span> <span class="n">MultiplierModelOutputOrientedWithNonDiscVars</span>
<span class="kn">from</span> <span class="nn">core.models.bound_generators</span> <span class="kn">import</span> <span class="n">generate_supper_efficiency_upper_bound</span>
<span class="kn">from</span> <span class="nn">core.models.bound_generators</span> <span class="kn">import</span> <span class="n">generate_upper_bound_for_efficiency_score</span>
<span class="kn">from</span> <span class="nn">core.models.bound_generators</span> <span class="kn">import</span> <span class="n">generate_supper_efficiency_lower_bound</span>
<span class="kn">from</span> <span class="nn">core.models.bound_generators</span> <span class="kn">import</span> <span class="n">generate_lower_bound_for_efficiency_score</span>
<span class="kn">from</span> <span class="nn">core.models.super_efficiency_model</span> <span class="kn">import</span> <span class="n">SupperEfficiencyModel</span>
<span class="kn">from</span> <span class="nn">core.models.maximize_slacks</span> <span class="kn">import</span> <span class="n">MaximizeSlacksModel</span>
<span class="kn">from</span> <span class="nn">core.models.categorical_dmus</span> <span class="kn">import</span> <span class="n">ModelWithCategoricalDMUs</span>
<span class="kn">import</span> <span class="nn">core.utils.dea_utils</span> <span class="kn">as</span> <span class="nn">dea_utils</span>


<div class="viewcode-block" id="add_input_and_output_categories"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.add_input_and_output_categories">[docs]</a><span class="k">def</span> <span class="nf">add_input_and_output_categories</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">model_input</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Adds input and output categories specified in parameters</span>
<span class="sd">        to a given InputData object.</span>

<span class="sd">        Args:</span>
<span class="sd">            params (Parameters): model parameters.</span>
<span class="sd">            model_input (InputData): object that stores input data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if input or output (or both) categories</span>
<span class="sd">                are missing.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">input_categories</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_set_of_parameters</span><span class="p">(</span><span class="s1">&#39;INPUT_CATEGORIES&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">input_categories</span><span class="p">:</span>
        <span class="n">model_input</span><span class="o">.</span><span class="n">add_input_category</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
    <span class="n">output_categories</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_set_of_parameters</span><span class="p">(</span><span class="s1">&#39;OUTPUT_CATEGORIES&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">output_categories</span><span class="p">:</span>
        <span class="n">model_input</span><span class="o">.</span><span class="n">add_output_category</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">model_input</span><span class="o">.</span><span class="n">input_categories</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">model_input</span><span class="o">.</span><span class="n">output_categories</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Both input and output categories must be specified&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="ModelFactoryBase"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase">[docs]</a><span class="k">class</span> <span class="nc">ModelFactoryBase</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Abstract base class for factory classes responsible for creating</span>
<span class="sd">        a DEA model.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.create_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.create_model">[docs]</a>    <span class="k">def</span> <span class="nf">create_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">model_input</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Allocated a proper DEA model given parameters and input data.</span>

<span class="sd">            Args:</span>
<span class="sd">                params (Parameters): model parameters.</span>
<span class="sd">                model_input (InputData): object that stores input data.</span>

<span class="sd">            Returns:</span>
<span class="sd">                ModelBase: allocated DEA model.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">orientation</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span><span class="s1">&#39;ORIENTATION&#39;</span><span class="p">)</span>
        <span class="n">non_discr_categories</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_set_of_parameters</span><span class="p">(</span>
            <span class="s1">&#39;NON_DISCRETIONARY_CATEGORIES&#39;</span><span class="p">)</span>
        <span class="n">weakly_disposal_categories</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_set_of_parameters</span><span class="p">(</span>
            <span class="s1">&#39;WEAKLY_DISPOSAL_CATEGORIES&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">weakly_disposal_categories</span><span class="p">:</span>
            <span class="n">dea_utils</span><span class="o">.</span><span class="n">check_categories</span><span class="p">(</span><span class="n">weakly_disposal_categories</span><span class="p">,</span>
                                       <span class="n">model_input</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
        <span class="n">use_super_efficiency</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span>
            <span class="s1">&#39;USE_SUPER_EFFICIENCY&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;input&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">non_discr_categories</span><span class="p">:</span>
                <span class="n">dea_utils</span><span class="o">.</span><span class="n">check_categories</span><span class="p">(</span><span class="n">non_discr_categories</span><span class="p">,</span>
                                           <span class="n">model_input</span><span class="o">.</span><span class="n">input_categories</span><span class="p">,</span>
                                           <span class="s1">&#39;For input-oriented model only&#39;</span>
                                           <span class="s1">&#39; input categories can be&#39;</span>
                                           <span class="s1">&#39; non-discretionary&#39;</span><span class="p">)</span>
            <span class="n">concrete_model</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_input_oriented_model</span><span class="p">(</span>
                <span class="n">use_super_efficiency</span><span class="p">,</span> <span class="n">non_discr_categories</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;output&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">non_discr_categories</span><span class="p">:</span>
                <span class="n">dea_utils</span><span class="o">.</span><span class="n">check_categories</span><span class="p">(</span><span class="n">non_discr_categories</span><span class="p">,</span>
                                           <span class="n">model_input</span><span class="o">.</span><span class="n">output_categories</span><span class="p">,</span>
                                           <span class="s1">&#39;For output-oriented model only&#39;</span>
                                           <span class="s1">&#39; output categories can be&#39;</span>
                                           <span class="s1">&#39; non-discretionary&#39;</span><span class="p">)</span>
            <span class="n">concrete_model</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_output_oriented_model</span><span class="p">(</span>
                <span class="n">use_super_efficiency</span><span class="p">,</span> <span class="n">non_discr_categories</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unexpected value of parameter &lt;ORIENTATION&gt;&#39;</span><span class="p">)</span>

        <span class="n">model</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_basic_model</span><span class="p">(</span><span class="n">model_input</span><span class="p">,</span> <span class="n">concrete_model</span><span class="p">,</span>
                                    <span class="n">weakly_disposal_categories</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">add_extra</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">weakly_disposal_categories</span><span class="p">,</span>
                              <span class="n">non_discr_categories</span><span class="p">,</span> <span class="n">orientation</span><span class="p">)</span>

        <span class="c1"># add decorators if needed</span>
        <span class="n">return_to_scale</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span><span class="s1">&#39;RETURN_TO_SCALE&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">return_to_scale</span> <span class="o">==</span> <span class="s1">&#39;VRS&#39;</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_VRS_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

        <span class="n">abs_restrictions</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_set_of_parameters</span><span class="p">(</span>
            <span class="s1">&#39;ABS_WEIGHT_RESTRICTIONS&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">abs_restrictions</span><span class="p">:</span>
            <span class="n">bounds</span> <span class="o">=</span> <span class="n">dea_utils</span><span class="o">.</span><span class="n">create_bounds</span><span class="p">(</span><span class="n">abs_restrictions</span><span class="p">,</span>
                                             <span class="n">model_input</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_abs_restriction_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span>

        <span class="n">virtual_restrictions</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_set_of_parameters</span><span class="p">(</span>
            <span class="s1">&#39;VIRTUAL_WEIGHT_RESTRICTIONS&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">virtual_restrictions</span><span class="p">:</span>
            <span class="n">bounds</span> <span class="o">=</span> <span class="n">dea_utils</span><span class="o">.</span><span class="n">create_bounds</span><span class="p">(</span><span class="n">virtual_restrictions</span><span class="p">,</span>
                                             <span class="n">model_input</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_virtual_restriction_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span>

        <span class="n">price_ratio_restrictions</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_set_of_parameters</span><span class="p">(</span>
            <span class="s1">&#39;PRICE_RATIO_RESTRICTIONS&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">price_ratio_restrictions</span><span class="p">:</span>
            <span class="n">bounds</span> <span class="o">=</span> <span class="n">dea_utils</span><span class="o">.</span><span class="n">create_bounds</span><span class="p">(</span><span class="n">price_ratio_restrictions</span><span class="p">,</span>
                                             <span class="n">model_input</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_price_ratio_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">use_super_efficiency</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">SupperEfficiencyModel</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

        <span class="c1"># It is important to create max slack model after duper efficiency,</span>
        <span class="c1"># otherwise wrong type of solution is created</span>
        <span class="n">maximize_slacks</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span><span class="s1">&#39;MAXIMIZE_SLACKS&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">maximize_slacks</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span><span class="s1">&#39;DEA_FORM&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;multi&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Two phase model doesn&#39;t work with multiplier model&quot;</span><span class="p">)</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">MaximizeSlacksModel</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">weakly_disposal_categories</span><span class="p">)</span>

        <span class="n">categorical_category</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span>
            <span class="s1">&#39;CATEGORICAL_CATEGORY&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">categorical_category</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">ModelWithCategoricalDMUs</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">categorical_category</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">model</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.get_input_oriented_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.get_input_oriented_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_input_oriented_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">use_super_efficiency</span><span class="p">,</span>
                                 <span class="n">non_discr_categories</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Returns input-oriented model used in ModelBase.</span>

<span class="sd">            Args:</span>
<span class="sd">                use_super_efficiency (bool): true if super efficiency model</span>
<span class="sd">                    should be created, false otherwise.</span>
<span class="sd">                non_discr_categories (list of str): list of non-discretionary</span>
<span class="sd">                    categories. If empty, all categories are considered</span>
<span class="sd">                    discretionary.</span>

<span class="sd">            Returns:</span>
<span class="sd">                InputOrientedModel: allocated input-oriented model.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.get_output_oriented_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.get_output_oriented_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_output_oriented_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">use_super_efficiency</span><span class="p">,</span>
                                  <span class="n">non_discr_categories</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Returns output-oriented model used in ModelBase.</span>

<span class="sd">            Args:</span>
<span class="sd">                use_super_efficiency (bool): true if super efficiency model</span>
<span class="sd">                    should be created, false otherwise.</span>
<span class="sd">                non_discr_categories (list of str): list of non-discretionary</span>
<span class="sd">                    categories. If empty, all categories are considered</span>
<span class="sd">                    discretionary.</span>

<span class="sd">            Returns:</span>
<span class="sd">                OutputOrientedModel: allocated output-oriented model.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.get_basic_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.get_basic_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_basic_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model_input</span><span class="p">,</span> <span class="n">concrete_model</span><span class="p">,</span>
                        <span class="n">weakly_disposal_categories</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Returns allocated basic CRS DEA model.</span>

<span class="sd">            Args:</span>
<span class="sd">                model_input (InputData): object that stores input data.</span>
<span class="sd">                concrete_model (InputOrientedModel or OutputOrientedModel):</span>
<span class="sd">                    input- or output-oriented model used in ModelBase.</span>
<span class="sd">                weakly_disposal_categories (list of str): list of weakly</span>
<span class="sd">                    disposal categories. If empty, all categories are considered</span>
<span class="sd">                    strongly disposal.</span>
<span class="sd">                params (Parameters): model parameters.</span>

<span class="sd">            Returns:</span>
<span class="sd">                ModelBase: allocated DEA model.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.get_VRS_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.get_VRS_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_VRS_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Decorates a given model with VRS constraints or variables.</span>

<span class="sd">            Args:</span>
<span class="sd">                model (ModelBase): model to decorate.</span>

<span class="sd">            Returns:</span>
<span class="sd">                ModelBase: decorated VRS DEA model.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.get_abs_restriction_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.get_abs_restriction_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_abs_restriction_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Decorates a given model with absolute weight restrictions.</span>

<span class="sd">            Args:</span>
<span class="sd">                model (ModelBase): model to decorate.</span>
<span class="sd">                bounds (dict of str to tuple of double, double or dict of tuple of str, str to tuple of double, double): dictionary with</span>
<span class="sd">                        parsed values of constraints.</span>

<span class="sd">            Returns:</span>
<span class="sd">                ModelBase: decorated DEA model with absolute weight</span>
<span class="sd">                    restrictions.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.get_virtual_restriction_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.get_virtual_restriction_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_virtual_restriction_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Decorates a given model with virtual weight restrictions.</span>

<span class="sd">            Args:</span>
<span class="sd">                model (ModelBase): model to decorate.</span>
<span class="sd">                bounds (dict of str to tuple of double, double or dict of tuple of str, str to tuple of double, double): dictionary with</span>
<span class="sd">                    parsed values of constraints.</span>

<span class="sd">            Returns:</span>
<span class="sd">                ModelBase: decorated DEA model with virtual weight</span>
<span class="sd">                    restrictions.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.get_price_ratio_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.get_price_ratio_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_price_ratio_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Decorates a given model with price ratio weight restrictions.</span>

<span class="sd">            Args:</span>
<span class="sd">                model (ModelBase): model to decorate.</span>
<span class="sd">                bounds (dict of str to tuple of double, double or dict of tuple of str, str to tuple of double, double): dictionary with</span>
<span class="sd">                    parsed values of constraints.</span>

<span class="sd">            Returns:</span>
<span class="sd">                ModelBase: decorated DEA model with price ratio weight</span>
<span class="sd">                    restrictions.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ModelFactoryBase.add_extra"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.ModelFactoryBase.add_extra">[docs]</a>    <span class="k">def</span> <span class="nf">add_extra</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">weakly_disposal_categories</span><span class="p">,</span>
                  <span class="n">non_discr_categories</span><span class="p">,</span> <span class="n">orientation</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Helper method that is called after get_basic_model.</span>

<span class="sd">            Args:</span>
<span class="sd">                model (ModelBase): model to decorate.</span>
<span class="sd">                weakly_disposal_categories (list of str): list of weakly</span>
<span class="sd">                    disposal categories. If empty, all categories are considered</span>
<span class="sd">                    strongly disposal.</span>
<span class="sd">                non_discr_categories (list of str): list of non-discretionary</span>
<span class="sd">                    categories. If empty, all categories are considered</span>
<span class="sd">                    discretionary.</span>
<span class="sd">                orientation (str): string that describes orientation of the</span>
<span class="sd">                    model. Possible values: &quot;input&quot; or &quot;output&quot;.</span>

<span class="sd">            Returns:</span>
<span class="sd">                ModelBased: decorated DEA model.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="EnvelopmentModelFactory"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory">[docs]</a><span class="k">class</span> <span class="nc">EnvelopmentModelFactory</span><span class="p">(</span><span class="n">ModelFactoryBase</span><span class="p">):</span>

    <span class="sd">&#39;&#39;&#39; A factory class responsible for creating envelopment model.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_upper_bound_generator_for_env_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_upper_bound_generator_for_env_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_upper_bound_generator_for_env_model</span><span class="p">(</span><span class="n">use_super_efficiency</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Returns a function for upper bound generation for</span>
<span class="sd">            envelopment model.</span>

<span class="sd">            Args:</span>
<span class="sd">                use_super_efficiency (bool): true if super efficiency model</span>
<span class="sd">                    should be created, false otherwise.</span>

<span class="sd">            Returns:</span>
<span class="sd">                func: function for upper bound generation.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">use_super_efficiency</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">generate_supper_efficiency_upper_bound</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">generate_upper_bound_for_efficiency_score</span></div>

    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_lower_bound_generator"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_lower_bound_generator">[docs]</a>    <span class="k">def</span> <span class="nf">get_lower_bound_generator</span><span class="p">(</span><span class="n">use_super_efficiency</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Returns a function for lower bound generation for</span>
<span class="sd">            envelopment model.</span>

<span class="sd">            Args:</span>
<span class="sd">                use_super_efficiency (bool): true if super efficiency model</span>
<span class="sd">                    should be created, false otherwise.</span>

<span class="sd">            Returns:</span>
<span class="sd">                func: function for lower bound generation.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">use_super_efficiency</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">generate_supper_efficiency_lower_bound</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">generate_lower_bound_for_efficiency_score</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_input_oriented_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_input_oriented_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_input_oriented_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">use_super_efficiency</span><span class="p">,</span>
                                 <span class="n">non_discr_categories</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">upper_bound_generator</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_upper_bound_generator_for_env_model</span><span class="p">(</span>
            <span class="n">use_super_efficiency</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">non_discr_categories</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">EnvelopmentModelInputOrientedWithNonDiscVars</span><span class="p">(</span>
                <span class="n">non_discr_categories</span><span class="p">,</span> <span class="n">upper_bound_generator</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">EnvelopmentModelInputOriented</span><span class="p">(</span><span class="n">upper_bound_generator</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_output_oriented_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_output_oriented_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_output_oriented_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">use_super_efficiency</span><span class="p">,</span>
                                  <span class="n">non_discr_categories</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">lower_bound_generator</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">get_lower_bound_generator</span><span class="p">(</span>
            <span class="n">use_super_efficiency</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">non_discr_categories</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">EnvelopmentModelOutputOrientedWithNonDiscVars</span><span class="p">(</span>
                <span class="n">non_discr_categories</span><span class="p">,</span> <span class="n">lower_bound_generator</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">EnvelopmentModelOutputOriented</span><span class="p">(</span><span class="n">lower_bound_generator</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_basic_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_basic_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_basic_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model_input</span><span class="p">,</span> <span class="n">concrete_model</span><span class="p">,</span>
                        <span class="n">weakly_disposal_categories</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">weakly_disposal_categories</span><span class="p">:</span>
            <span class="n">constraint_creator</span> <span class="o">=</span> <span class="n">DisposableVarsConstraintCreator</span><span class="p">(</span>
                <span class="n">weakly_disposal_categories</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">constraint_creator</span> <span class="o">=</span> <span class="n">DefaultConstraintCreator</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">EnvelopmentModelBase</span><span class="p">(</span><span class="n">model_input</span><span class="p">,</span> <span class="n">concrete_model</span><span class="p">,</span>
                                    <span class="n">constraint_creator</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_VRS_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_VRS_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_VRS_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">EnvelopmentModelVRSDecorator</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_abs_restriction_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_abs_restriction_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_abs_restriction_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">EnvelopmentModelWithAbsoluteWeightRestrictions</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_virtual_restriction_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_virtual_restriction_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_virtual_restriction_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">EnvelopmentModelWithVirtualWeightRestrictions</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.get_price_ratio_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.get_price_ratio_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_price_ratio_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">EnvelopmentModelWithPriceRatioConstraints</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EnvelopmentModelFactory.add_extra"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.EnvelopmentModelFactory.add_extra">[docs]</a>    <span class="k">def</span> <span class="nf">add_extra</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">weakly_disposal_categories</span><span class="p">,</span>
                  <span class="n">non_discr_categories</span><span class="p">,</span> <span class="n">orientation</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">model</span></div></div>


<div class="viewcode-block" id="MultiplierModelFactory"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory">[docs]</a><span class="k">class</span> <span class="nc">MultiplierModelFactory</span><span class="p">(</span><span class="n">ModelFactoryBase</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A factory class responsible for creating multiplier model.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="MultiplierModelFactory.get_input_oriented_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory.get_input_oriented_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_input_oriented_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">use_super_efficiency</span><span class="p">,</span>
                                 <span class="n">non_discr_categories</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">MultiplierInputOrientedModel</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="MultiplierModelFactory.get_output_oriented_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory.get_output_oriented_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_output_oriented_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">use_super_efficiency</span><span class="p">,</span>
                                  <span class="n">non_discr_categories</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">MultiplierOutputOrientedModel</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="MultiplierModelFactory.get_basic_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory.get_basic_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_basic_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model_input</span><span class="p">,</span> <span class="n">concrete_model</span><span class="p">,</span>
                        <span class="n">weakly_disposal_categories</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span>
            <span class="s1">&#39;MULTIPLIER_MODEL_TOLERANCE&#39;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">MultiplierModelBase</span><span class="p">(</span><span class="n">model_input</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">concrete_model</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="MultiplierModelFactory.get_VRS_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory.get_VRS_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_VRS_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">MultiplierModelVRSDecorator</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="MultiplierModelFactory.get_abs_restriction_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory.get_abs_restriction_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_abs_restriction_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">MultiplierModelWithAbsoluteWeightRestrictions</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="MultiplierModelFactory.get_virtual_restriction_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory.get_virtual_restriction_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_virtual_restriction_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">MultiplierModelWithVirtualWeightRestrictions</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="MultiplierModelFactory.get_price_ratio_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory.get_price_ratio_model">[docs]</a>    <span class="k">def</span> <span class="nf">get_price_ratio_model</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">MultiplierModelWithPriceRatioConstraints</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="MultiplierModelFactory.add_extra"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.MultiplierModelFactory.add_extra">[docs]</a>    <span class="k">def</span> <span class="nf">add_extra</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">weakly_disposal_categories</span><span class="p">,</span>
                  <span class="n">non_discr_categories</span><span class="p">,</span> <span class="n">orientation</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; See base class.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">new_model</span> <span class="o">=</span> <span class="n">model</span>
        <span class="k">if</span> <span class="n">weakly_disposal_categories</span><span class="p">:</span>
            <span class="n">new_model</span> <span class="o">=</span> <span class="n">MultiplierModelWithDisposableCategories</span><span class="p">(</span>
                <span class="n">model</span><span class="p">,</span> <span class="n">weakly_disposal_categories</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">non_discr_categories</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;input&#39;</span><span class="p">:</span>
                <span class="n">new_model</span> <span class="o">=</span> <span class="n">MultiplierModelInputOrientedWithNonDiscVars</span><span class="p">(</span>
                    <span class="n">new_model</span><span class="p">,</span> <span class="n">non_discr_categories</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_model</span> <span class="o">=</span> <span class="n">MultiplierModelOutputOrientedWithNonDiscVars</span><span class="p">(</span>
                    <span class="n">new_model</span><span class="p">,</span> <span class="n">non_discr_categories</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_model</span></div></div>


<div class="viewcode-block" id="create_model"><a class="viewcode-back" href="../../../../pyDEA.core.utils.html#pyDEA.core.utils.model_factory.create_model">[docs]</a><span class="k">def</span> <span class="nf">create_model</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">model_input</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Allocates a proper DEA model based on given parameters and</span>
<span class="sd">            input data. This function must be used for creating DEA model.</span>
<span class="sd">            It calls appropriate factory class.</span>

<span class="sd">            Args:</span>
<span class="sd">                params (Parameters): model parameters.</span>
<span class="sd">                model_input (InputData): object that stores input data.</span>

<span class="sd">            Raises:</span>
<span class="sd">                ValueError: if DEA form parameter has invalid value.</span>
<span class="sd">                    Allowed values are env and multi.</span>

<span class="sd">            Returns:</span>
<span class="sd">                ModelBase: allocated DEA model.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">dea_form</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_parameter_value</span><span class="p">(</span><span class="s1">&#39;DEA_FORM&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dea_form</span> <span class="o">==</span> <span class="s1">&#39;env&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">EnvelopmentModelFactory</span><span class="o">.</span><span class="n">create_model</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">model_input</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">dea_form</span> <span class="o">==</span> <span class="s1">&#39;multi&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">MultiplierModelFactory</span><span class="o">.</span><span class="n">create_model</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">model_input</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Invalid value of parameter &lt;DEA_FORM&gt;&#39;</span><span class="p">)</span></div>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Andrea Raith, Fariza Fauzi and Olga Perederieieva.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>